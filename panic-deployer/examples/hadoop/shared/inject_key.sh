#!/bin/bash


#script used to inject ssh key into the master vm

cat >> /root/.ssh/authorized_keys << EOF
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDK0MxPLCFokxWsxNMmDcBBoXBdeftpfjusTR7zIQfWfZJhhftLYmmgiHEi0tVDbpazIt3e5uOsQakX3F8MUbPmsFiMhnf80zMkR8Ln7WFlTzlXaR8HOVa7YfwGzQWOrr38E388fb+XtsGkIADMqX+aYT7PBFjA0ttRPKXEeyWyLoYlWTuMmnrgI09k29KixzzK6ix028lMHAAIm7XFEprigU/13/PXg5/sS5LM9MTKsUqbSqZ78WF9sad7rYNE7qtH3OMNwBkV/zFpe/+7T7Lml80O9Jmi/6lJEwN01ZNGTaGqKzJJLQFd45C207LUDe1yctMyM/SXkqWHcoH0pKWX giannis@debian
EOF


cat > /root/.ssh/reporter << EOF
-----BEGIN RSA PRIVATE KEY-----
MIIEogIBAAKCAQEAwSYVQ60rhhdXRkjwRqfyx3VVUqf/gaP+4GXF302w9Rx+hY9p
ZIcRPjkiobf/GV7P/xFzBXvnuNMm170wVSIUyLUSG0z3S0IDs2WNK5ve8LLs6Dc3
ffQRfGQXyVr3CW9fP9m+N2wGwm+JUXuzY35ocetCvUlgiM3xHIsZsvefAo8DoxJe
RKXn1aQ238AdU/SNsDMUPG7sEtLAj0P2HVpjKaOE7eUTEw0xAJlWf9GevYzmPFx8
kw4XBzXHZEDz5ZibhS3h9SCLBTmHLHCtyLMtqcXVsy5LeEFeRdxaJwh4xSu97vNC
vMkAoAB/VWTgxKHiDQSY89QxpatkQxR95ChShQIDAQABAoIBABb6pesATj5MxphZ
EyUE1DCAuB72V8KftTITSaBQiO4QbskLD9ni691AROuCjXoCOrK467tKS35EuMlP
+9EVFe3vBPF0jbNJblFIkqwOhk6SqvbRout8PxxSeDX/eYaI1octK6FCW+eEB41H
L0d2AY0UFUOZ2D9OaRIhRnRxW1ydXDIM2ij+vBzeEJwzBe8jJoXoRNWOpbkiWvQD
BgPGSc5PciDEQ2pWM1TmyU9hyXXLEcEf2KWU2J2QggqwAmoQK46nQpzzMheeZRmO
qWHcNl6YpZONTXoiy60crNt+Lqw5ZRzUc5w0s2Ayyk4nhSWZf4xSjKK6p+ePSeoI
/OLKIB0CgYEA6d00m/PD3pwhUPa+uZdNoZxGjHC1TR58urrsDaJ0o7OfRsRNMvkS
c1XRPifK7zoh6Jyeb8wapWABLpQEHewUpHHEU7PhDH5V8l9lLdBuK/207h5HhK77
vSGQqlgQFx2BjvXFLhb+fFzksetOG04q7z1efmeFChPgbJqP/bVHG2MCgYEA025M
dyp4vJKEIUvxl6x2Z+wreuXo/Wwspm/oVxn/NRUeIj9Q4ljmfmTxEFwgh8yNg2E9
vtmd6Duj2TnC/RwBAZaWMzOg6KZTv53v7AoUE94zouvILNE1aoKt7Kz0LGLgi0ry
5qB2P2oTeqTVSstRL34e9sA1dU+xgZRk4o77YvcCgYA/XVUs0C6I+Wq5gjGJHarG
GA6xbLRi8di/y3e79gF+fWOxi+yS3BOYtm7cVXHRwcGAQjdXeUja+Bk54pb++IFb
UQvt1fYrKWvmINzMPgYr2zETt5aPJ85Dn32P+g5aBP+emY7Ufxxy28SHRIdENLjD
W7BntWrBoUMUighrqJtcmwKBgEjVRiIGz3CmSD3wG1lUX7WM9a1wZcJm8TqkcjUP
D4sJq0fA5+wRE9WWkDRCiDI/lMAdT1ffPzYw1VCPRUxLyUzywusAbf22zkLD9VIq
ZqAxezg0YNCPgQcf3SoaqkJgDVnuh55KyHEv6WXmQlNxlpX1rFT0AXZX7Z3lsJsb
Bh4hAoGARuSjCD4or/PsoU/WB+SzPUIUJukrDUGbwZfMNXfBMDYhvcAvWm8mGSg5
s1JZwe/diaTXCIgdVQrc9aDYzUnQHAUt6FQ7QB9F1f23mCVe2ta4yD0+yv99qkT0
N57EkoXRFR6ui3JqVPBpIxMnZJjo7j9ppVUrVS8vy7l9KR3pAIs=
-----END RSA PRIVATE KEY-----
EOF

chmod 600 /root/.ssh/reporter